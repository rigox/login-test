{"ast":null,"code":"import { LOGIN, LOGOUT, REGISTER, LOAD_USER } from './types';\nimport axios from 'axios';\nimport setAuthToken from '../utils/setAuthToken';\naxios.defaults.baseURL = \"http://localhost:3005\";\nexport const loadUser = () => async dispatch => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n\n  try {\n    const res = await axios.get('/api/auth');\n    dispatch({\n      type: LOAD_USER,\n      payload: res.data\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const Register_User = ({\n  name,\n  email,\n  password\n}) => async dispatch => {\n  const config = {\n    headers: {\n      'Content-Type': \"application/json\"\n    }\n  };\n  const body = JSON.stringify({\n    name,\n    email,\n    password\n  });\n\n  try {\n    const res = await axios.post('/api/users/register', body, config);\n    dispatch({\n      type: REGISTER,\n      payload: res.data\n    });\n    dispatch(loadUser());\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const login = ({\n  email,\n  password\n}) => async dispatch => {\n  const body = JSON.stringify({\n    email,\n    password\n  });\n  const config = {\n    headers: {\n      'Content-Type': \"application/json\"\n    }\n  };\n  axios.post('/api');\n};\nexport const logout = () => dispacth => {\n  console.log(\"hello\");\n  dispacth({\n    type: LOGOUT\n  });\n};","map":{"version":3,"sources":["/Users/rigocontreras/Documents/rect/login-test/src/actions/auth.js"],"names":["LOGIN","LOGOUT","REGISTER","LOAD_USER","axios","setAuthToken","defaults","baseURL","loadUser","dispatch","localStorage","token","res","get","type","payload","data","err","console","log","Register_User","name","email","password","config","headers","body","JSON","stringify","post","login","logout","dispacth"],"mappings":"AAAA,SAAQA,KAAR,EAAcC,MAAd,EAAqBC,QAArB,EAA8BC,SAA9B,QAA8C,SAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACAD,KAAK,CAACE,QAAN,CAAeC,OAAf,GAAyB,uBAAzB;AAGA,OAAO,MAAMC,QAAQ,GAAG,MAAM,MAAMC,QAAN,IAAiB;AAC/C,MAAGC,YAAY,CAACC,KAAhB,EAAsB;AACnBN,IAAAA,YAAY,CAACK,YAAY,CAACC,KAAd,CAAZ;AACF;;AACD,MAAI;AACA,UAAMC,GAAG,GAAI,MAAMR,KAAK,CAACS,GAAN,CAAU,WAAV,CAAnB;AACAJ,IAAAA,QAAQ,CAAC;AACDK,MAAAA,IAAI,EAACX,SADJ;AAEDY,MAAAA,OAAO,EAACH,GAAG,CAACI;AAFX,KAAD,CAAR;AAIH,GAND,CAME,OAAOC,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AAEA,CAdM;AAkBP,OAAO,MAAMG,aAAa,GAAC,CAAC;AAACC,EAAAA,IAAD;AAAMC,EAAAA,KAAN;AAAYC,EAAAA;AAAZ,CAAD,KAA2B,MAAMd,QAAN,IAAiB;AACvE,QAAMe,MAAM,GAAG;AACTC,IAAAA,OAAO,EAAC;AAAC,sBAAe;AAAhB;AADC,GAAf;AAGA,QAAMC,IAAI,GAAKC,IAAI,CAACC,SAAL,CAAe;AAACP,IAAAA,IAAD;AAAMC,IAAAA,KAAN;AAAYC,IAAAA;AAAZ,GAAf,CAAf;;AACA,MAAI;AACA,UAAMX,GAAG,GAAG,MAAMR,KAAK,CAACyB,IAAN,CAAW,qBAAX,EAAiCH,IAAjC,EAAsCF,MAAtC,CAAlB;AACAf,IAAAA,QAAQ,CAAC;AACLK,MAAAA,IAAI,EAACZ,QADA;AAELa,MAAAA,OAAO,EAACH,GAAG,CAACI;AAFP,KAAD,CAAR;AAKAP,IAAAA,QAAQ,CAACD,QAAQ,EAAT,CAAR;AAEH,GATD,CASE,OAAOS,GAAP,EAAY;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AACA,CAjBM;AAmBP,OAAO,MAAMa,KAAK,GAAC,CAAC;AAACR,EAAAA,KAAD;AAAOC,EAAAA;AAAP,CAAD,KAAqB,MAAMd,QAAN,IAAiB;AAErD,QAAMiB,IAAI,GAAIC,IAAI,CAACC,SAAL,CAAe;AAACN,IAAAA,KAAD;AAAOC,IAAAA;AAAP,GAAf,CAAd;AAEA,QAAMC,MAAM,GAAI;AACXC,IAAAA,OAAO,EAAC;AAAC,sBAAe;AAAhB;AADG,GAAhB;AAIArB,EAAAA,KAAK,CAACyB,IAAN,CAAW,MAAX;AAEH,CAVM;AAYP,OAAO,MAAME,MAAM,GAAG,MAAMC,QAAQ,IAAG;AACvCd,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACIa,EAAAA,QAAQ,CAAC;AACJlB,IAAAA,IAAI,EAACb;AADD,GAAD,CAAR;AAGH,CALM","sourcesContent":["import {LOGIN,LOGOUT,REGISTER,LOAD_USER} from './types';\nimport axios from 'axios';\nimport setAuthToken from '../utils/setAuthToken';\naxios.defaults.baseURL = \"http://localhost:3005\"\n\n\nexport const loadUser = () => async dispatch =>{\nif(localStorage.token){\n   setAuthToken(localStorage.token)\n}\ntry {\n    const res =  await axios.get('/api/auth');\n    dispatch({\n            type:LOAD_USER,\n            payload:res.data\n    })\n} catch (err) {\n    console.log(err)\n}\n\n}\n\n\n\nexport const Register_User=({name,email,password})=>  async dispatch =>{ \nconst config = {\n      headers:{'Content-Type':\"application/json\"}\n}\nconst body  =  JSON.stringify({name,email,password})\ntry {\n    const res = await axios.post('/api/users/register',body,config)\n    dispatch({\n        type:REGISTER,\n        payload:res.data\n    })\n\n    dispatch(loadUser())\n\n} catch (err) {\n    console.log(err)\n}\n}\n\nexport const login=({email,password})=> async dispatch =>{\n\n    const body  = JSON.stringify({email,password})\n\n    const config  = {\n         headers:{'Content-Type':\"application/json\"}\n    }\n\n    axios.post('/api')\n\n}\n\nexport const logout = () => dispacth =>{\nconsole.log(\"hello\")\n    dispacth({\n         type:LOGOUT\n    })\n}"]},"metadata":{},"sourceType":"module"}